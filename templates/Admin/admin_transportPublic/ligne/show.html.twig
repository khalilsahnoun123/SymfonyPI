{% extends 'base.html.twig' %}

{% block title %}Ligne {{ ligne.name }}{% endblock %}

{% block body %}
  <main id="main" class="main">
    <section class="section dashboard">
      <div class="dashboard-container">

        <!-- Header -->
        <div class="header-section align-items-center mb-4">
          <h1 class="header-title"><i class="bi bi-collection-fill"></i> Ligne "{{ ligne.name }}"</h1>
          <a href="{{ path('app_ligne_index') }}" class="btn btn-back">
            <i class="bi bi-arrow-left"></i> Retour
          </a>
        </div>

        <!-- Ligne Details -->
        <div class="card mb-4">
          <div class="card-body d-flex justify-content-between flex-wrap">
            <div>
              <p class="mb-1"><strong>Région :</strong> {{ ligne.region }}</p>
              <p class="mb-0"><strong>VIP :</strong> {{ ligne.prixVip }} TND</p>
            </div>
            <div>
              <p class="mb-1"><strong>Premium :</strong> {{ ligne.prixPremium }} TND</p>
              <p class="mb-0"><strong>Économique :</strong> {{ ligne.prixEconomique }} TND</p>
            </div>
          </div>
        </div>

        <!-- Stations List -->
        <h2 class="mb-3"><i class="bi bi-pin-map-fill"></i> Stations</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-5">
          {% for station in stations %}
            <div class="card hover-shadow p-3">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-pin-map-fill text-primary me-2 fs-4"></i>
                <h3 class="h5 mb-0">{{ station.nom }}</h3>
              </div>
              <p class="mb-0"><strong>Adresse :</strong> {{ station.adresse }}</p>
            </div>
          {% else %}
            <p class="text-muted">Aucune station pour cette ligne.</p>
          {% endfor %}
        </div>

        <!-- Véhicules List -->
        <h2 class="mb-3"><i class="bi bi-taxi-front-fill"></i> Véhicules</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-5">
          {% for vehicule in vehicules %}
            <div class="card hover-shadow p-3">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-taxi-front-fill text-primary me-2 fs-4"></i>
                <h3 class="h5 mb-0 text-capitalize">{{ vehicule.type }}</h3>
              </div>
              <ul class="list-unstyled mb-0">
                <li><strong>Économique :</strong> {{ vehicule.nbr_max_passagers_economy }}</li>
                <li><strong>Premium   :</strong> {{ vehicule.nbr_max_passagers_premium }}</li>
                <li><strong>VIP       :</strong> {{ vehicule.nbr_max_passagers_vip }}</li>
              </ul>
            </div>
          {% else %}
            <p class="text-muted">Aucun véhicule pour cette ligne.</p>
          {% endfor %}
        </div>

      </div>
    </section>
  </main>
{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style>
    .hover-shadow { transition: box-shadow .3s; }
    .hover-shadow:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .grid { display: grid; }
    @media (min-width: 768px) { .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); } }
    @media (min-width: 1024px) { .lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); } }
    .gap-4 { gap: 1rem; }
    .p-3 { padding: 1rem; }
    .mb-0 { margin-bottom: 0; }
    .mb-1 { margin-bottom: .25rem; }
    .mb-2 { margin-bottom: .5rem; }
    .mb-3 { margin-bottom: 1rem; }
    .mb-4 { margin-bottom: 1.5rem; }
    .mb-5 { margin-bottom: 2rem; }
    .header-section { display: flex; justify-content: space-between; align-items: center; }
    .btn-back { background: none; border: 1px solid #4361ee; color: #4361ee; padding: .5rem 1rem; border-radius: .375rem; transition: background .3s; }
    .btn-back:hover { background: #4361ee; color: #fff; text-decoration: none; }
  </style>
{% endblock %}
