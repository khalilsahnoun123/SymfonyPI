{# templates/Front/Transportpublic/new_step1.html.twig #}
{% extends 'Front/userDashboard.html.twig' %}

{% block title %}Étape 1 – Nouvelle réservation{% endblock %}

{% block body %}
<div class="container mx-auto py-8">
  <div class="bg-white shadow-md rounded-lg p-6">
    <div class="mb-6">
      <h2 class="text-2xl font-bold text-primary">Étape 1&nbsp;: Sélection</h2>
      <p class="text-gray-600">Choisissez la date, la ligne, la catégorie et le type de véhicule.</p>
    </div>
    {# Flash messages #}
    {% for label, messages in app.flashes %}
      {% for message in messages %}
        <div class="alert {{ label == 'error' ? 'alert-danger' : 'alert-' ~ label }} mb-4">
          {{ message }}
        </div>
      {% endfor %}
    {% endfor %}

    {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}
      <div>
        {{ form_label(form.travel_date, 'Date de voyage', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
        {{ form_widget(form.travel_date, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
        {{ form_errors(form.travel_date) }}
      </div>
      <div>
        {{ form_label(form.ligne, 'Ligne', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
        {{ form_widget(form.ligne, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
        {{ form_errors(form.ligne) }}
      </div>
      <div>
        {{ form_label(form.ticket_category, 'Catégorie de billet', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
        {{ form_widget(form.ticket_category, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
        {{ form_errors(form.ticket_category) }}
      </div>
      <div>
        {{ form_label(form.vehicle_type, 'Type de véhicule', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
        {{ form_widget(form.vehicle_type, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
        {{ form_errors(form.vehicle_type) }}
      </div>
      <div class="text-right">
           
               <a href="{{ path('app_my_reservations') }}" class="btn btn-outline-secondary">
      <i class="fas fa-arrow-left me-1"></i> Retour
    </a>
        <button type="submit" class="btn btn-primary inline-flex items-center">
          Suivant&nbsp;→
        </button>
      </div>
    {{ form_end(form) }}
  </div>
</div>

<style>
  .text-primary { color: #4361ee; }
  .btn-primary { background: linear-gradient(135deg,#4361ee,#3a0ca3); color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; }
  .btn-primary:hover { opacity: 0.9; }
  .alert { padding: 0.75rem 1rem; border-radius: 0.375rem; }
  .alert-danger { background-color: #f8d7da; color: #842029; }
  .alert-success { background-color: #d1e7dd; color: #0f5132; }
  .alert-warning { background-color: #fff3cd; color: #664d03; }
</style>
{% endblock %}