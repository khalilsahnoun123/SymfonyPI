{# templates/Front/Transportpublic/new_step2.html.twig #}
{% extends 'Front/userDashboard.html.twig' %}

{% block title %}Étape 2 – Nouvelle réservation{% endblock %}

{% block body %}
<div class="container mx-auto py-8">
  <div class="bg-white shadow-md rounded-lg p-6">
    <div class="mb-6 flex justify-between items-center">
      <h2 class="text-2xl font-bold text-primary">Étape 2&nbsp;: Détails</h2>
      <a href="{{ path('app_reservation_new_step1') }}" class="text-gray-500 hover:text-gray-700">← Retour</a>
    </div>
    {# Flash messages #}
    {% for label, messages in app.flashes %}
      {% for message in messages %}
        <div class="alert {{ label == 'error' ? 'alert-danger' : 'alert-' ~ label }} mb-4">
          {{ message }}
        </div>
      {% endfor %}
    {% endfor %}

    {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}
      <div>
        {{ form_label(form.number_of_seats, 'Nombre de sièges', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
        {{ form_widget(form.number_of_seats, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
        {{ form_errors(form.number_of_seats) }}
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          {{ form_label(form.depart_station, 'Station de départ', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
          {{ form_widget(form.depart_station, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
          {{ form_errors(form.depart_station) }}
        </div>
        <div>
          {{ form_label(form.fin_station, 'Station d’arrivée', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
          {{ form_widget(form.fin_station, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm'}}) }}
          {{ form_errors(form.fin_station) }}
        </div>
      </div>
      <div class="text-right">
        <button type="submit" class="btn btn-success inline-flex items-center">
          Confirmer la réservation
        </button>
      </div>
    {{ form_end(form) }}
  </div>
</div>

<style>
  .text-primary { color: #4361ee; }
  .btn-success { background: #4cc9f0; color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; }
  .btn-success:hover { opacity: 0.9; }
  .alert { padding: 0.75rem 1rem; border-radius: 0.375rem; }
  .alert-danger { background-color: #f8d7da; color: #842029; }
  .alert-success { background-color: #d1e7dd; color: #0f5132; }
  .alert-warning { background-color: #fff3cd; color: #664d03; }
</style>
{% endblock %}